// pipeline {
//     agent any
//     triggers {
//       githubPush()
//    }
//     environment {
//         DOCKER_IMAGE_NAME = 'calculator'
//         GITHUB_REPO_URL = 'git@github.com:chaudhari-akash/Calculator.git'
//     }
//
//     stages {
//         stage('Checkout') {
//             steps {
//                 script {
//                     // Checkout the code from the GitHub repository
//                     git branch: 'master', url: "${GITHUB_REPO_URL}"
//                 }
//             }
//         }
//
//         stage('Build Docker Image') {
//             steps {
//                 script {
//                     // Build Docker image
//                     docker.build("${DOCKER_IMAGE_NAME}", '.')
//                 }
//             }
//         }
//
//         stage('Push Docker Images') {
//             steps {
//                 script{
//                     docker.withRegistry('', 'DockerHubCred') {
//                     sh 'docker tag calculator chaudhariakash/calculator:latest'
//                     sh 'docker push chaudhariakash/calculator'
//                     }
//                  }
//             }
//         }
//
// //             stage('Run Ansible Playbook') {
// //                steps {
// // //                    script {
// // //                      withEnv(["ANSIBLE_HOST_KEY_CHECKING=False"]) {
// // //                        ansiblePlaybook(
// // //                            playbook: 'deploy.yml',
// // //                            inventory: 'inventory'
// // //                        )
// // //                    }
// // //                }
// //            }
// //         }
// //        }
//         post {
//                success {
//                    mail to: 'b.thangaraju@iiitb.ac.in',
//                         subject: "Application Deployment SUCCESS: Build ${env.JOB_NAME} #${env.BUILD_NUMBER}",
//                         body: "The build was successful!"
//                }
//                failure {
//                    mail to: 'b.thangaraju@iiitb.ac.in',
//                         subject: "Application Deployment FAILURE: Build ${env.JOB_NAME} #${env.BUILD_NUMBER}",
//                         body: "The build failed."
//                }
//                always {
//                    cleanWs()
//                }
//              }
//            }
// }


pipeline {
    agent any

    stages {
        stage('Checkout') {
            steps {
                echo "Checkout the source code from the Git repository"
                //git 'https://github.com/yourusername/yourrepository.git'
            }
        }

        stage('Build') {
            steps {
                echo "Execute build commands or scripts"
                //sh 'your-build-command-or-script.sh'
                sh 'python3 hello.py'
            }
        }

        stage('Test') {
            steps {
                echo "Execute test commands or scripts"
                //sh 'your-test-command-or-script.sh'
            }
        }

        stage('Staging') {
            steps {
                echo "Copy artifacts to a staging area (e.g., for further testing)"
                //sh 'cp -r build/* staging/'
            }
        }

        stage('Deploy') {
            steps {
                echo "Deploy artifacts to a production server or environment"
                //sh 'your-deployment-command-or-script.sh'
            }
        }

        stage('Monitor') {
            steps {
                echo "Perform monitoring and verification tasks"
                //sh 'your-monitoring-command-or-script.sh'
            }
        }
    }

    post {
        success {
            // This block executes if the pipeline is successful
            echo 'Deployment was successful!'
            // Add any additional success actions here
        }
        failure {
            // This block executes if the pipeline fails
            echo ' failed!'
            // Add any failure actions or notifications here
        }
    }
}